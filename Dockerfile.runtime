# Минимальный runtime-образ
FROM python:3.11-slim

WORKDIR /app
COPY requirements-runtime.txt ./
# Используем строго зафиксированный runtime-набор зависимостей
RUN pip install --no-cache-dir -r requirements-runtime.txt

# Внешние бинарники (vina/smina/obabel) сюда не ставим — зависят от платформы.
COPY . .

# Smoke-команда по умолчанию
CMD ["python", "-m", "rabiesmol.cli", "--help"]
